System.register(["./index-legacy.3537b309.js"],(function(e,t){"use strict";var o,s=document.createElement("style");return s.textContent="",document.head.appendChild(s),{setters:[function(e){o=e.n}],execute:function(){var t=new WebSocket("ws://104.208.78.33:8000/ws/chat/11/1");t.onopen=function(e){t.send(JSON.stringify({sender:11,type:1,message:"hello, this is my message"}))},t.onmessage=function(e){console.log("Message from server ",e.data),this.messageFromWS=e.data},t.onerror=function(e){console.error("WebSocket error observed:",e),this.messageFromWS=e.data},t.onclose=function(e){console.log("Socket is closed. Reconnect will be attempted in 1 second.",e.reason)},e("default",o({name:"Chat",data:function(){return{selectedRoom:0,messageInput:"",chatRooms:[{id:1,title:"room1",history:[{from:"TrickEye",type:"single",content:"hello world"},{from:"TrickEye",type:"single",content:"hello world again in this window!"},{from:"XiaoMing",type:"single",content:"I am called XiaoMing! So nice to meet you guys."},{from:"XiaoHong",type:"single",content:"hello XiaoMing! I am XiaoHong."},{from:"TrickEye",type:"single",content:"Welcome to JiHub!!!!"}]},{id:2,title:"room2",history:[{from:"TrickEye",type:"single",content:"hello world again!"}]}],ws:[],messageFromWS:"Waiting messages from WebSocket...",payload:JSON.stringify({sender:11,type:1,message:"hello, this is my message"})}},created:function(){},methods:{sendMsg:function(){t.send(this.payload)}}},(function(){var e=this,t=e._self._c;return t("v-container",{attrs:{fluid:""}},[t("h1",[e._v("聊天室")]),t("v-row",[t("div",[e._v(e._s(this.messageFromWS))])]),t("v-row",[t("div",[e._v(e._s(null==this.socket?"null":this.socket))])]),t("v-row",[t("v-textarea",{model:{value:this.payload,callback:function(t){e.$set(this,"payload",t)},expression:"this.payload"}})],1),t("v-row",[t("v-btn",{on:{click:function(t){this.socket=e.initSocket()}}},[e._v("连接")]),t("v-btn",{on:{click:this.sendMsg}},[e._v("发送")])],1),t("v-row",[t("v-col",{attrs:{cols:"4"}},[t("p",[e._v("selected room: "+e._s(e.selectedRoom))]),t("v-list",[t("v-list-item-group",{model:{value:e.selectedRoom,callback:function(t){e.selectedRoom=t},expression:"selectedRoom"}},e._l(e.chatRooms,(function(o){return t("v-list-item",{key:o.id},[t("v-list-item-title",[e._v(e._s(o.title))])],1)})),1)],1)],1),t("v-col",{attrs:{cols:"8"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-text",[t("v-list",[t("v-list-item-group",e._l(e.chatRooms[e.selectedRoom].history,(function(o){return t("v-list-item",{key:o.id},[t("v-list-item-title",[e._v(e._s(o.from)+" : "+e._s(o.content))])],1)})),1)],1)],1)],1)],1)],1),t("v-row",[t("v-col",{attrs:{cols:"10"}},[t("v-text-field",{attrs:{label:"发送消息"},model:{value:e.messageInput,callback:function(t){e.messageInput=t},expression:"messageInput"}})],1),t("v-col",{attrs:{cols:"2"}},[t("v-btn",{attrs:{block:""}},[e._v("SEND")])],1)],1)],1)],1)],1)}),[],!1,null,"cfd9700a",null,null).exports)}}}));
