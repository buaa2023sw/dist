System.register(["./index-legacy.5407432f.js","./util-legacy.07f21e54.js","./sha256-legacy.88aeb6ad.js"],(function(e,t){"use strict";var s,a,r,l,o=document.createElement("style");return o.textContent="",document.head.appendChild(o),{setters:[function(e){s=e.n,a=e.j},function(e){r=e.u},function(e){l=e.s}],execute:function(){var t=function(){var e=this,t=e._self._c;return t("v-container",{attrs:{fluid:""}},[t("v-row",{staticClass:"blue lighten-5",staticStyle:{"min-height":"calc(100vh - 64px)"},attrs:{align:"center",justify:"center"}},[t("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[t("v-card",{staticClass:"elevation-12",staticStyle:{"max-width":"500px"}},[t("v-card-text",{staticClass:"mt-4 mb-4"},[t("v-form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("v-row",[t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"用户名",outlined:"",dense:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"邮箱",outlined:"",dense:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"密码",outlined:"",dense:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"确认密码",outlined:"",dense:"",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-2",block:""},on:{click:e.register}},[e._v("注册账号")])],1),t("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t("span",{staticClass:"caption grey--text text--darken-1"},[e._v("已有账号？")]),t("v-btn",{staticClass:"grey--text text--darken-1",attrs:{color:"transparent",text:""},on:{click:function(t){return e.$router.push("/login")}}},[e._v("前往登录")])],1)],1)],1)],1)],1)],1)],1)],1)};e("default",s({name:"Register",data:function(){return{username:"",email:"",password:"",confirmPassword:""}},methods:{register:function(){var e=this;if(r.trim(this.username)&&r.trim(this.email)&&r.trim(this.password)&&r.trim(this.confirmPassword))if(this.password===this.confirmPassword){var t=l.exports.sha256(this.password);console.log(t),a.post("/api/register",{username:this.username,email:this.email,password:t}).then((function(t){console.log(t.data),1===t.data.errcode?e.$message({type:"error",message:"发生未知错误，无法注册，请联系管理员"}):2===t.data.errcode?e.$message({type:"error",message:"该邮箱已被使用"}):3===t.data.errcode?e.$message({type:"error",message:"该用户名已被使用"}):(e.$message({type:"success",message:"注册成功"}),console.log("??????????"),window.location.href="/login")})).catch((function(e){console.error(e),window.alert("发生未知错误，无法注册，请联系管理员")}))}else this.$message({type:"error",message:"请保证密码和确认密码的一致性"});else this.$message({type:"error",message:"请完整填写所有注册信息"})}}},t,[],!1,null,"15d8558e",null,null).exports)}}}));
