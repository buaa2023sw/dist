import{n as o,e as a,l as c}from"./index.c0a02bc6.js";const l={name:"Diagnosis",data(){return{code:"",result:"\u6682\u65E0\u8BCA\u65AD\u7ED3\u679C\u3002\u8BF7\u5728\u5DE6\u4FA7\u8F93\u5165\u4EE3\u7801\u5E76\u70B9\u51FB\u786E\u8BA4\uFF0C\u4EE5\u83B7\u53D6\u8BCA\u65AD\u7ED3\u679C\u3002"}},methods:{valid(){return this.code!==""},getFromCookie(){a.get("diag")!==void 0?(this.code=a.get("diag"),a.remove("diag")):this.code=""},startDiagnosis(){console.log(this.code),c.post("/api/ai/CodeReview",{code:this.code}).then(s=>{console.log(s),s.data.errcode===1?this.$message({type:"error",message:"\u672A\u77E5\u9519\u8BEF"}):this.result=s.data.data}).catch(s=>{console.error(s),this.result=null})}},created(){this.getFromCookie()}};var r=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-container",[e("v-card",{staticClass:"fill-height"},[e("v-card-title",{staticClass:"white"},[t._v("\u8BF7\u8F93\u5165\u5F85\u8BCA\u65AD\u7684\u4EE3\u7801")]),e("v-divider"),e("v-card-text",{staticClass:"d-flex flex-column",staticStyle:{width:"100%",height:"100%"}},[e("v-textarea",{attrs:{outlined:"",label:"Code","auto-grow":"",color:"blue",rows:"5"},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue",text:"",disabled:!t.valid()},on:{click:function(i){return t.startDiagnosis()}}},[t._v("\u786E\u5B9A")])],1)],1)],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-container",[e("v-card",{staticClass:"fill-height"},[e("v-card-title",{staticClass:"white"},[t._v("\u4EE3\u7801\u8BCA\u65AD\u7ED3\u679C")]),e("v-divider"),e("v-card-text",{staticClass:"d-flex flex-column",staticStyle:{width:"100%",height:"100%"}},[t._v(" "+t._s(t.result)+" ")])],1)],1)],1)],1)],1)},n=[],d=o(l,r,n,!1,null,"9c60b423",null,null);const _=d.exports;export{_ as default};
