import{n as l}from"./index.39935e6b.js";const n=new WebSocket("ws://104.208.78.33:8000/ws/chat/11/1");n.onopen=function(s){n.send(JSON.stringify({sender:11,type:1,message:"hello, this is my message"}))};n.onmessage=function(s){console.log("Message from server ",s.data),this.messageFromWS=s.data};n.onerror=function(s){console.error("WebSocket error observed:",s),this.messageFromWS=s.data};n.onclose=function(s){console.log("Socket is closed. Reconnect will be attempted in 1 second.",s.reason)};const i={name:"Chat",data(){return{selectedRoom:0,messageInput:"",chatRooms:[{id:1,title:"room1",history:[{from:"TrickEye",type:"single",content:"hello world"},{from:"TrickEye",type:"single",content:"hello world again in this window!"},{from:"XiaoMing",type:"single",content:"I am called XiaoMing! So nice to meet you guys."},{from:"XiaoHong",type:"single",content:"hello XiaoMing! I am XiaoHong."},{from:"TrickEye",type:"single",content:"Welcome to JiHub!!!!"}]},{id:2,title:"room2",history:[{from:"TrickEye",type:"single",content:"hello world again!"}]}],ws:[],messageFromWS:"Waiting messages from WebSocket...",payload:JSON.stringify({sender:11,type:1,message:"hello, this is my message"})}},created(){},methods:{sendMsg(){n.send(this.payload)}}};var a=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{fluid:""}},[e("h1",[t._v("\u804A\u5929\u5BA4")]),e("v-row",[e("div",[t._v(t._s(this.messageFromWS))])]),e("v-row",[e("div",[t._v(t._s(this.socket==null?"null":this.socket))])]),e("v-row",[e("v-textarea",{model:{value:this.payload,callback:function(o){t.$set(this,"payload",o)},expression:"this.payload"}})],1),e("v-row",[e("v-btn",{on:{click:function(o){this.socket=t.initSocket()}}},[t._v("\u8FDE\u63A5")]),e("v-btn",{on:{click:this.sendMsg}},[t._v("\u53D1\u9001")])],1),e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("p",[t._v("selected room: "+t._s(t.selectedRoom))]),e("v-list",[e("v-list-item-group",{model:{value:t.selectedRoom,callback:function(o){t.selectedRoom=o},expression:"selectedRoom"}},t._l(t.chatRooms,function(o){return e("v-list-item",{key:o.id},[e("v-list-item-title",[t._v(t._s(o.title))])],1)}),1)],1)],1),e("v-col",{attrs:{cols:"8"}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-card-text",[e("v-list",[e("v-list-item-group",t._l(t.chatRooms[t.selectedRoom].history,function(o){return e("v-list-item",{key:o.id},[e("v-list-item-title",[t._v(t._s(o.from)+" : "+t._s(o.content))])],1)}),1)],1)],1)],1)],1)],1),e("v-row",[e("v-col",{attrs:{cols:"10"}},[e("v-text-field",{attrs:{label:"\u53D1\u9001\u6D88\u606F"},model:{value:t.messageInput,callback:function(o){t.messageInput=o},expression:"messageInput"}})],1),e("v-col",{attrs:{cols:"2"}},[e("v-btn",{attrs:{block:""}},[t._v("SEND")])],1)],1)],1)],1)],1)},c=[],r=l(i,a,c,!1,null,"cfd9700a",null,null);const d=r.exports;export{d as default};
