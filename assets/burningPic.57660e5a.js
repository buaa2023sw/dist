import{n as m}from"./index.84c01e78.js";import{e as g}from"./echarts.a1200475.js";const w={data(){return{chartData:{workloads:[],expectedDates:[],actualDates:[],dates:[],resWorkloads:[]}}},mounted(){this.chartData.workloads=[25,15,30,20,10],this.chartData.expectedDates=["2023-04-10","2023-04-20","2023-04-30","2023-05-10","2023-05-20"],this.chartData.actualDates=["2023-04-13","2023-04-21","2023-04-28","2023-05-08",""];let r=0;for(let t=0;t<this.chartData.workloads.length;t++)r+=this.chartData.workloads[t];let a=this.chartData.expectedDates.map(t=>new Date(t).valueOf()),s=[];for(let t=0;t<a.length;t++)s.push(a[t]);a.sort()[0];var u=new Set(a),o=Array.from(u);let n=[],i=r;for(let t=0;t<o.length;t++){for(let e=0;e<s.length;e++)s[e]==o[t]&&(i-=this.chartData.workloads[e]);n.push([o[t],i])}for(let t=0;t<this.chartData.actualDates.length;t++)this.chartData.actualDates[t]==""&&this.chartData.actualDates.splice(t,1);let l=this.chartData.actualDates.map(t=>new Date(t).valueOf()),d=[];for(let t=0;t<l.length;t++)d.push(l[t]);l.sort()[0];var p=new Set(l),D=Array.from(p);let c=[];i=r;for(let t=0;t<D.length;t++){for(let e=0;e<d.length;e++)d[e]==D[t]&&(i-=this.chartData.workloads[e]);c.push([D[t],i])}let h=a[0]<l[0]?a[0]:l[0];h=h-24*60*60*1e3,c.push([h,r]),n.push([h,r]),console.log(c),console.log(n);function f(t,e){return t[0]-e[0]}c.sort(f),n.sort(f),g.exports.init(document.getElementById("burnup-chart")).setOption({title:{text:"\u71C3\u5C3D\u56FE"},legend:{data:["\u9884\u671F\u4E2D\u7684\u5269\u4F59\u5DE5\u4F5C\u91CF","\u5B9E\u9645\u7684\u5269\u4F59\u5DE5\u4F5C\u91CF"]},tooltip:{trigger:"axis",formatter:function(t){return console.log(t[0]),t[0].seriesName+":"+t[0].value[1]}},xAxis:{type:"value",min:h,axisLabel:{color:"#333",formatter:function(t){let e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}},yAxis:{type:"value"},series:[{name:"\u9884\u671F\u4E2D\u7684\u5269\u4F59\u5DE5\u4F5C\u91CF",type:"line",data:n},{name:"\u5B9E\u9645\u7684\u5269\u4F59\u5DE5\u4F5C\u91CF",type:"line",data:c}]})},methods:{getDaysFromStartDate(r,a){const u=new Date(r),o=new Date(a);return Math.round(Math.abs((u-o)/864e5))}}};var v=function(){var a=this,s=a._self._c;return s("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"burnup-chart"}})},x=[],_=m(w,v,x,!1,null,null,null,null);const S=_.exports;export{S as default};
