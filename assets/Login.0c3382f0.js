import{u as r}from"./util.06b4a6d2.js";import{b as l,n as i,a as n}from"./index.84c01e78.js";l.get("user")!==void 0&&(alert("\u60A8\u5DF2\u5904\u4E8E\u767B\u5F55\u72B6\u6001"),window.location.href="/home");const o={name:"login",data(){return{userNameOrEmail:"",password:""}},methods:{async login(){if(!r.trim(this.userNameOrEmail)||!r.trim(this.password)){window.alert("\u7528\u6237\u540D\u6216\u90AE\u7BB1\u3001\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}n.post("/api/login",{userNameOrEmail:this.userNameOrEmail,password:this.password}).then(e=>{console.log(e.data),e.data.errcode===1?window.alert("\u7528\u6237\u4E0D\u5B58\u5728"):e.data.errcode===2?window.alert("\u5BC6\u7801\u9519\u8BEF"):e.data.errcode===3?window.alert("\u60A8\u7684\u8D26\u6237\u76EE\u524D\u5DF2\u88AB\u7981\u7528"):(l.set("user",JSON.stringify(e.data.data)),window.alert("\u767B\u5F55\u6210\u529F"),e.data.data.status)}).catch(e=>{console.error(e)})}}};var c=function(){var a=this,t=a._self._c;return t("v-container",{attrs:{fluid:""}},[t("v-row",{staticClass:"blue lighten-5",staticStyle:{"min-height":"calc(100vh - 64px)"},attrs:{align:"center",justify:"center"}},[t("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[t("v-card",{staticClass:"elevation-12",staticStyle:{"max-width":"500px"}},[t("v-card-text",{staticClass:"mt-4 mb-4"},[t("v-form",{on:{submit:function(s){return s.preventDefault(),a.login.apply(null,arguments)}}},[t("v-row",[t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"\u7528\u6237\u540D\u6216\u90AE\u7BB1",outlined:"",dense:""},model:{value:a.userNameOrEmail,callback:function(s){a.userNameOrEmail=s},expression:"userNameOrEmail"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"\u5BC6\u7801",outlined:"",dense:"",type:"password"},model:{value:a.password,callback:function(s){a.password=s},expression:"password"}})],1),t("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-2",block:""},on:{click:a.login}},[a._v("\u767B\u5F55")])],1),t("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t("span",{staticClass:"caption grey--text text--darken-1"},[a._v("\u6CA1\u6709\u8D26\u53F7\uFF1F")]),t("v-btn",{staticClass:"grey--text text--darken-1",attrs:{color:"transparent",text:""},on:{click:function(s){return a.$router.push("/register")}}},[a._v("\u524D\u5F80\u6CE8\u518C")])],1)],1)],1)],1)],1)],1)],1)],1)},d=[],u=i(o,c,d,!1,null,"2d366c9d",null,null);const f=u.exports;export{f as default};
