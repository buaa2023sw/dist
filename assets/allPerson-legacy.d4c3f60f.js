System.register(["./user-legacy.6de73517.js","./project_messages.vue_vue_type_style_index_0_scoped_af587a2e_lang-legacy.a7349fbb.js","./index-legacy.107059ed.js"],(function(e,t){"use strict";var o,i,n,s,l,a=document.createElement("style");return a.textContent=".one[data-v-f8783ee5]{height:10%;position:relative}.two[data-v-f8783ee5]{height:10%}.three[data-v-f8783ee5]{position:absolute;left:5%;right:5%;height:80%}.xiangmu[data-v-f8783ee5]{position:absolute;left:20%}\n",document.head.appendChild(a),{setters:[function(e){o=e.s,i=e.f,n=e.g,s=e.h},function(){},function(e){l=e.n}],execute:function(){e("default",l({name:"AllProject",created:function(){this.getPersonList()},data:function(){return{headers:[{text:"图标",align:"start",sortable:!1,value:"icon"},{text:"移除",value:"remove"},{text:"更改",value:"change"}],inject:{user:{defualt:null},selectedProj:{defualt:null}},selectedProj:{id:"1"},user:{id:"1"},radioGroup:"管理员",personData:[],search:"",setupDialog:!1,changeDialog:!1,newPersonForm:{id:""},idTemp:"",changeRoleForm:{id:"",role:""}}},methods:{getPersonList:function(){var e=this;o({projectId:this.selectedProj.id,userId:this.user.id}).then((function(t){console.log(t),e.personData=t.data.data}))},filterName:function(e,t,o){return console.log("123"),console.log(o),null!=t&&-1!==o.peopleName.toString().indexOf(t)},handleChange:function(e){console.log("123"),this.changeRoleForm.id=e.peopleId,this.changeDialog=!0,console.log(this.changeRoleForm)},handleClose:function(e){this.$confirm("确认关闭？").then((function(){e()})).catch((function(){}))},handleDelete:function(e){var t=this;this.$confirm("此操作将移除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i({projectId:t.selectedProj.id,personId:e.peopleId,userId:t.user.id}).then((function(e){console.log(e)})),t.getPersonList(),t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},setupPerson:function(){var e=this;n({projectId:this.selectedProj.id,personId:this.newPersonForm.id,userId:this.user.id}).then((function(t){console.log(t);var o=t.data.errcode;console.log(o),3==o&&e.$message({type:"info",message:"您没有权限邀请成员"})})),this.getPersonList(),this.setupDialog=!1,this.newPersonForm.id=""},changeRole:function(){"开发人员"==this.changeRoleForm.role?this.changeRoleForm.role="A":"管理员"==this.changeRoleForm.role&&(this.changeRoleForm.role="B"),console.log(this.changeRoleForm),s({projectId:this.selectedProj.id,userId:this.user.id,role:this.changeRoleForm.role,personId:this.changeRoleForm.id}).then((function(e){console.log(e)})),this.changeDialog=!1,this.changeRoleForm.id="",this.changeRoleForm.role=""},getColor:function(e){return"A"==e?"orange":"B"==e?"green":"blue"},classify:function(e){return"A"==e?"开发人员":"B"==e?"管理员":"C"==e?"负责人":void 0}}},(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"}},[e._m(0),t("div",{staticClass:"three"},[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,"hide-default-header":"",items:e.personData,"items-per-page":5,"item-key":"name",search:e.search,"custom-filter":e.filterName,height:""},scopedSlots:e._u([{key:"top",fn:function(){return[t("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[t("v-text-field",{staticClass:"mx-4",staticStyle:{width:"30%",display:"inline-block"},attrs:{label:"输入名称"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("v-btn",{staticStyle:{top:"20%",right:"2%",height:"60%",width:"10%",position:"absolute"},attrs:{depressed:"",color:"primary"},on:{click:function(t){e.setupDialog=!0}}},[e._v("添加成员 "),t("v-icon",{attrs:{dark:"",right:""}},[e._v(" mdi-account-plus ")])],1)],1)]},proxy:!0},{key:"item.icon",fn:function(o){var i=o.item;return[t("div",{staticStyle:{height:"70px",position:"relative",width:"900px"}},[t("v-avatar",{staticStyle:{position:"absolute",top:"10%"},attrs:{size:"60"}},[t("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})]),t("v-p",{staticStyle:{position:"absolute",top:"5%",left:"10%","font-size":"large","font-weight":"500"}},[e._v(e._s(i.peopleName))]),t("v-chip",{staticStyle:{position:"absolute",top:"50%",left:"9%"},attrs:{color:e.getColor(i.peopleJob),dark:""}},[e._v(" "+e._s(e.classify(i.peopleJob))+" ")])],1)]}},{key:"item.remove",fn:function(o){var i=o.item;return["C"!=i.peopleJob?t("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.handleDelete(i)}}},[e._v(" 移除用户 ")]):e._e()]}},{key:"item.change",fn:function(o){var i=o.item;return["C"!=i.peopleJob?t("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.handleChange(i)}}},[e._v(" 更改角色 ")]):e._e()]}}],null,!0)})],1),t("el-dialog",{staticStyle:{position:"relative"},attrs:{title:"添加成员",visible:e.setupDialog,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.setupDialog=t}}},[t("el-form",{attrs:{"label-position":e.left,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户id"}},[t("el-input",{staticStyle:{width:"400px"},model:{value:e.newPersonForm.id,callback:function(t){e.$set(e.newPersonForm,"id",t)},expression:"newPersonForm.id"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.setupDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.setupPerson}},[e._v("确 定")])],1)],1),t("el-dialog",{staticStyle:{position:"relative"},attrs:{visible:e.changeDialog,width:"40%",height:"30","before-close":e.handleClose},on:{"update:visible":function(t){e.changeDialog=t}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._v("请选择你要为该成员分配的"),t("strong",[e._v("角色")])])]},proxy:!0}])},[t("v-radio-group",{staticStyle:{top:"50px",position:"absolute"},model:{value:e.changeRoleForm.role,callback:function(t){e.$set(e.changeRoleForm,"role",t)},expression:"changeRoleForm.role"}},[t("v-radio",{attrs:{value:"管理员"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t("strong",{staticClass:"success--text"},[e._v("管理员")])])]},proxy:!0}])}),t("v-radio",{attrs:{value:"开发人员"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t("strong",{staticClass:"orange--text"},[e._v("开发人员")])])]},proxy:!0}])})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.changeDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.changeRole}},[e._v("确 定")])],1)],1)],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"one"},[e("h1",{staticStyle:{position:"absolute",left:"5%",top:"10%"}},[this._v("项目人员列表")])])}],!1,null,"f8783ee5",null,null).exports)}}}));
